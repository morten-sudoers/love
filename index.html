<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta property="og:title" content="‚ù§Ô∏è De: T√∫ coraz√≥n de mel√≥n ‚ù§Ô∏è">
<meta property="og:description" content="Un mensajito para recordarte que todos los d√≠as son especiales üíñ">
<meta property="og:type" content="website">
<meta property="og:url" content="https://loveucookie.netlify.app/">
<meta property="og:image" content="https://loveucookie.netlify.app/preview.png">
<meta name="twitter:card" content="summary_large_image">

<title>‚ù§Ô∏èDe: T√∫ coraz√≥n de mel√≥n‚ù§Ô∏è</title>

<style>
:root{
  --glass: rgba(255,255,255,.10);
  --stroke: rgba(255,255,255,.18);
  --txt: rgba(255,255,255,.95);
  --soft: rgba(255,255,255,.78);

  /* Parallax (se actualiza con JS) */
  --px: 50%;
  --py: 50%;
}

*{box-sizing:border-box}
html,body{height:100%;margin:0;overflow:hidden;font-family:system-ui;-webkit-font-smoothing:antialiased}
body{
  color: var(--txt);
  background: #070a14; /* fallback si no carga la imagen */
}

/* ============ FONDO JPEG (CINEM√ÅTICO + PARALLAX) ============ */
/* Fondo real */
body::before{
  content:"";
  position:fixed;
  inset:-4%;
  z-index:-3;

  background-image: url("back.jpeg");
  background-size: cover;
  background-repeat: no-repeat;

  /* Parallax: mueve el punto de enfoque */
  background-position: var(--px) var(--py);

  /* Un pel√≠n de zoom para ‚Äúcinema feel‚Äù */
  transform: scale(1.06);
  filter: saturate(1.05) contrast(1.05);
}

/* Capa cinematogr√°fica: oscurecer + vi√±eta */
body::after{
  content:"";
  position:fixed;
  inset:0;
  z-index:-2;

  background:
    radial-gradient(1200px 700px at 50% 35%, rgba(255,105,180,.18), transparent 55%),
    radial-gradient(900px 700px at 20% 20%, rgba(124,247,255,.10), transparent 60%),
    radial-gradient(900px 800px at 80% 75%, rgba(255,222,89,.08), transparent 60%),
    radial-gradient(1200px 900px at 50% 50%, transparent 40%, rgba(0,0,0,.55) 100%),
    linear-gradient(rgba(0,0,0,.68), rgba(0,0,0,.68));
  backdrop-filter: blur(2px);
}

/* Canvas encima del fondo */
canvas{position:fixed;inset:0;width:100%;height:100%;display:block; z-index:-1}

/* ============ UI ============ */
.wrap{
  position:fixed; inset:0;
  display:grid; place-items:center;
  padding:22px;
  pointer-events:none;
}
.card{
  width:min(1000px,92vw);
  padding:26px 22px 18px;
  border-radius:26px;
  background: var(--glass);
  border: 1px solid var(--stroke);
  backdrop-filter: blur(14px);
  box-shadow: 0 18px 60px rgba(0,0,0,.42);
  text-align:center;
}
.badge{
  display:inline-flex;
  padding:8px 14px;
  border-radius:999px;
  background:rgba(255,255,255,.12);
  border:1px solid rgba(255,255,255,.18);
  color:var(--soft);
  font-weight:700;
  font-size:13px;
  margin-bottom:12px;
}
h1{margin:0 0 8px;font-size:clamp(26px,4.2vw,50px); text-shadow:0 10px 30px rgba(0,0,0,.45)}
.quote{
  margin:8px auto 14px;
  font-size:clamp(18px,2.7vw,28px);
  font-weight:900;
  background:linear-gradient(90deg,#9F0087,#FFD6F9,#FF30E3);
  -webkit-background-clip:text;
  background-clip:text;
  color:transparent;
}
.typebox{
  margin:12px auto;
  max-width:72ch;
  padding:16px;
  border-radius:18px;
  background:rgba(0,0,0,.26);
  border:1px solid rgba(255,255,255,.14);
  text-align:left;
  white-space:pre-wrap;
  line-height:1.7;
}
.cursor{
  display:inline-block;
  width:10px;
  height:1em;
  background:#fff;
  border-radius:3px;
  animation:blink 1s infinite;
}
@keyframes blink{50%{opacity:0}}

.whisper{
  margin-top:10px;
  padding:8px 12px;
  border-radius:999px;
  background:rgba(255,255,255,.10);
  border:1px solid rgba(255,255,255,.12);
  font-size:13px;
  color: rgba(255,255,255,.88);
}

.footer{
  margin-top: 10px;
  font-size: 12.5px;
  color: rgba(255,255,255,.68);
}

@media (prefers-reduced-motion: reduce){
  body::before{ transform:none; }
  .cursor{ display:none; }
}
</style>
</head>

<body>
<canvas id="fx"></canvas>

<div class="wrap">
  <div class="card">
    <div class="badge">üíå Quer√≠a decirte que...</div>
    <h1>TE QUIERO INFINITAMENTE ü•∞</h1>
    <div class="quote">‚ÄúEncontrarnos ha sido lo mejor que nos ha pasado‚Äù</div>

    <div class="typebox">
      <span id="typed"></span><span class="cursor" aria-hidden="true"></span>
    </div>

    <div class="whisper">
      <span id="whisperText"></span>
    </div>

    <div class="footer"></div>
  </div>
</div>

<script>
(() => {
  // ===============================
  // TEXTOS
  // ===============================
  const MENSAJE =
`Gracias por estos d√≠as y por los que est√°n por venir, por cada beso y por los que estamos por inventar.
Por cada caricia y por las que estamos por descubrir, gracias por esta vida y por cada una en las que vamos a coincidir.`;

  const PHRASES = [
    "1. Conocerte y estar contigo es siempre un 47/46.",
    "2. Me encanta c√≥mo piensas y c√≥mo ves el mundo.",
    "3. Admiro mucho tu fuerza y determinaci√≥n.",
    "4. Tu inteligencia me atrae m√°s que cualquier otra cosa.",
    "5. Contigo, hasta el silencio suena perfecto.",
    "6. Cada d√≠a me haces sentir cosas nuevas.",
    "7. Eres la historia m√°s bonita que el destino escribi√≥ en mi vida.",
    "8. Eres mi persona favorita en toda la existencia.",
    "9. Tu sonrisa ilumina mi universo."
  ];

  // ===============================
  // TYPEWRITER
  // ===============================
  const typed = document.getElementById("typed");
  let i = 0;
  function type(){
    typed.textContent = MENSAJE.slice(0, i++);
    if(i <= MENSAJE.length){
      const ch = MENSAJE[i-1] || "";
      const delay = (ch === "\n") ? 220 : (ch === "," ? 110 : 38);
      setTimeout(type, delay);
    }
  }
  type();

  // Rotaci√≥n minimalista (una frase a la vez)
  const whisper = document.getElementById("whisperText");
  let p = Math.floor(Math.random() * PHRASES.length);
  whisper.textContent = PHRASES[p];
  whisper.style.transition = "opacity .35s ease";
  setInterval(() => {
    p = (p + 1) % PHRASES.length;
    whisper.style.opacity = 0;
    setTimeout(() => {
      whisper.textContent = PHRASES[p];
      whisper.style.opacity = 1;
    }, 220);
  }, 5200);

  // ===============================
  // PARALLAX SUAVE (fondo JPEG)
  // ===============================
  const reduceMotion = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;

  function setParallax(x, y){
    // x,y en [0..1]
    const px = (45 + x * 10).toFixed(2) + "%"; // 45%..55%
    const py = (45 + y * 10).toFixed(2) + "%";
    document.documentElement.style.setProperty("--px", px);
    document.documentElement.style.setProperty("--py", py);
  }

  if(!reduceMotion){
    let tx = 0.5, ty = 0.5;
    let cx = 0.5, cy = 0.5;

    addEventListener("mousemove", (e) => {
      tx = e.clientX / innerWidth;
      ty = e.clientY / innerHeight;
    }, {passive:true});

    // Animaci√≥n suave (si no mueves el mouse, sigue respirando)
    let t = 0;
    function parallaxTick(){
      t += 0.0035;
      // ‚Äúrespira‚Äù suavemente alrededor del centro
      const breatheX = 0.5 + Math.sin(t) * 0.015;
      const breatheY = 0.5 + Math.cos(t*0.9) * 0.015;

      // easing al target
      cx += ((tx - cx) * 0.06);
      cy += ((ty - cy) * 0.06);

      const fx = cx*0.85 + breatheX*0.15;
      const fy = cy*0.85 + breatheY*0.15;

      setParallax(fx, fy);
      requestAnimationFrame(parallaxTick);
    }
    parallaxTick();
  } else {
    setParallax(0.5, 0.5);
  }

  // ===============================
  // CANVAS: corazones con glow
  // ===============================
  const c = document.getElementById("fx");
  const ctx = c.getContext("2d", { alpha:true });
  let W, H, DPR;

  function resize(){
    DPR = Math.max(1, Math.min(2, devicePixelRatio || 1));
    W = innerWidth; H = innerHeight;
    c.width = Math.floor(W * DPR);
    c.height = Math.floor(H * DPR);
    c.style.width = W + "px";
    c.style.height = H + "px";
    ctx.setTransform(DPR,0,0,DPR,0,0);
  }
  resize();
  addEventListener("resize", resize, {passive:true});

  const particles = [];
  const rand = (a,b)=> a + Math.random()*(b-a);

  function heart(t){
    return {
      x: 16*Math.pow(Math.sin(t),3),
      y: -(13*Math.cos(t)-5*Math.cos(2*t)-2*Math.cos(3*t)-Math.cos(4*t))
    };
  }

  function spawn(){
    const cx = Math.random()*W*0.5 + W*0.25;
    const cy = Math.random()*H*0.30 + H*0.10;
    const hue = rand(320, 345);
    const scale = rand(2.6, 3.5);

    const count = reduceMotion ? 90 : 150;
    for(let i=0;i<count;i++){
      const t = (i / count) * Math.PI * 2;
      const p = heart(t);
      particles.push({
        x: cx, y: cy,
        vx: p.x * 0.08 * scale + rand(-0.6, 0.6),
        vy: p.y * 0.08 * scale + rand(-0.6, 0.6),
        g: rand(0.004, 0.012),
        drag: rand(0.986, 0.993),
        life: 0,
        max: rand(80, 120),
        r: rand(1.2, 2.4),
        hue
      });
    }

    // halo/flash
    if(!reduceMotion){
      particles.push({ x:cx, y:cy, vx:0, vy:0, g:0, drag:1, life:0, max:22, halo:true, hue, r:rand(18,28) });
    }
  }

  function draw(){
    // trail
    ctx.fillStyle = "rgba(0,0,0,.16)";
    ctx.fillRect(0,0,W,H);

    // additive glow
    ctx.save();
    ctx.globalCompositeOperation = "lighter";

    for(let i=particles.length-1;i>=0;i--){
      const p = particles[i];
      p.life++;
      const t = p.life / p.max;
      const a = Math.max(0, 1 - t);

      if(p.halo){
        ctx.globalAlpha = a * 0.28;
        ctx.fillStyle = `hsla(${p.hue}, 90%, 65%, 1)`;
        ctx.beginPath();
        ctx.arc(p.x, p.y, p.r, 0, Math.PI*2);
        ctx.fill();
        if(p.life >= p.max) particles.splice(i,1);
        continue;
      }

      p.vx *= p.drag;
      p.vy *= p.drag;
      p.vy += p.g;

      p.x += p.vx;
      p.y += p.vy;

      ctx.globalAlpha = a;
      ctx.fillStyle = `hsla(${p.hue}, 92%, 66%, 1)`;
      ctx.beginPath();
      ctx.arc(p.x, p.y, p.r, 0, Math.PI*2);
      ctx.fill();

      // brillo extra (suave)
      if(!reduceMotion && p.life % 14 === 0){
        ctx.globalAlpha = a * 0.18;
        ctx.beginPath();
        ctx.arc(p.x, p.y, p.r*2.6, 0, Math.PI*2);
        ctx.fill();
      }

      if(p.life >= p.max || p.y > H + 80 || p.x < -80 || p.x > W + 80){
        particles.splice(i,1);
      }
    }

    ctx.restore();
    requestAnimationFrame(draw);
  }

  setInterval(spawn, reduceMotion ? 2800 : 2300);
  spawn();
  setTimeout(spawn, 1200);
  draw();
})();
</script>
</body>
</html>

