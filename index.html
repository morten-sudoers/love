<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta property="og:title" content="‚ù§Ô∏è De: T√∫ coraz√≥n de mel√≥n ‚ù§Ô∏è">
<meta property="og:description" content="Un mensajito para recordarte que todos los d√≠as son especiales üíñ">
<meta property="og:type" content="website">
<meta property="og:url" content="https://loveucookie.netlify.app/">
<meta property="og:image" content="https://loveucookie.netlify.app/preview.png">
<meta name="twitter:card" content="summary_large_image">

<title>‚ù§Ô∏èDe: T√∫ coraz√≥n de mel√≥n‚ù§Ô∏è</title>

<style>
:root{
  --glass: rgba(255,255,255,.00);
  --stroke: rgba(255,255,255,.18);
  --txt: rgba(255,255,255,.96);
  --soft: rgba(255,255,255,.80);
}

*{box-sizing:border-box}
html,body{height:100%;margin:0;overflow:hidden;font-family:system-ui;-webkit-font-smoothing:antialiased}
body{
  color: var(--txt);
  background:#070a14; /* fallback */
}

body::before{
  content:"";
  position:fixed;
  inset:0;
  z-index:-3;

  background-image:
    url("back.jpeg"),
    url("https://images.unsplash.com/photo-1529634897131-34d3c93d31b0?auto=format&fit=crop&w=2400&q=80");
  background-size: cover;
  background-repeat:no-repeat;
  background-position:center center;

  transform:none;
  filter:none;
}

/* Canvas encima del fondo (TRANSPARENTE, no oscurece nada) */
canvas{
  position:fixed;inset:0;width:100%;height:100%;
  display:block;
  z-index:-1;
  background: transparent;
}

/* ===== UI ===== */
.wrap{
  position:fixed; inset:0;
  display:grid; place-items:center;
  padding:22px;
  pointer-events:none;
}
.card{
  width:min(980px,92vw);
  padding:26px 22px 18px;
  border-radius:28px;
  background: var(--glass);
  border: 1px solid var(--stroke);
  backdrop-filter: blur(2px);
  box-shadow: 0 18px 70px rgba(0,0,0,.28);
  text-align:center;
}
.badge{
  display:inline-flex;
  gap:10px;
  align-items:center;
  justify-content:center;
  padding:8px 14px;
  border-radius:999px;
  background:rgba(255,255,255,.12);
  border:1px solid rgba(255,255,255,.18);
  color:var(--soft);
  font-weight:700;
  font-size:13px;
  margin-bottom:12px;
}
h1{
  margin:0 0 8px;
  font-size:clamp(26px,4.2vw,50px);
  text-shadow:0 12px 35px rgba(0,0,0,.35);
}
.quote{
  margin:8px auto 14px;
  font-size:clamp(18px,2.7vw,28px);
  font-weight:900;
  letter-spacing:.2px;
  background:linear-gradient(90deg,#AB16BB,#DB50EB,#600C69);
  -webkit-background-clip:text;
  background-clip:text;
  color:transparent;
}
.typebox{
  margin:12px auto 12px;
  max-width:72ch;
  padding:14px;
  border-radius:18px;
  background:rgba(0,0,0,.14);
  border:2px solid rgba(19, 13, 128,.08);
  text-align:left;
  white-space:pre-wrap;
  line-height:1.75;
  font-size: clamp(20px, 2.2vw, 18px);
}
.cursor{
  display:inline-block;
  width:10px;
  height:1.05em;
  margin-left:2px;
  transform: translateY(3px);
  background:#fff;
  border-radius:3px;
  animation:blink 1s infinite;
}
@keyframes blink{50%{opacity:0}}

.whisper{
  margin-top:10px;
  padding:9px 12px;
  border-radius:999px;
  background:rgba(255,255,255,.10);
  border:1px solid rgba(255,255,255,.12);
  font-size:13px;
  color: rgba(19, 13, 128,.92);
  display:inline-flex;
  gap:14px;
  align-items:center;
}
.whisper .dot{
  width:7px;height:7px;border-radius:999px;
  background:rgba(19, 13, 128,.9);
  box-shadow:0 0 18px rgba(19, 13, 128,.18);
}

.note{
  position:fixed;
  left:0; top:0;
  transform: translate(-50%, -50%);
  padding:9px 11px;
  border-radius: 14px;
  background: rgba19, 13, 128,.12);
  border: 1px solid rgba(19, 13, 128,.16);
  backdrop-filter: blur(10px);
  box-shadow: 0 12px 30px rgba(0,0,0,.20);
  color: rgba(19, 13, 128,.92);
  font-weight: 900;
  font-size: 15px;
  letter-spacing:.2px;
  pointer-events:none;
  opacity:0;
  transition:none; /* sin transiciones */
  max-width:min(78vw, 320px);
  text-align:center;
  z-index:5;
}
.note.show{ opacity:1; }

.footer{
  margin-top: 10px;
  font-size: 15px;
  color: rgba(19, 13, 128,.74);
}

@media (prefers-reduced-motion: reduce){
  .cursor{ display:none; }
  .note{ display:none; }
}
</style>
</head>

<body>
<canvas id="fx"></canvas>

<div class="wrap">
  <div class="card">
    <div class="badge">üíå Quer√≠a decirte que...</div>
    <h1>TE QUIERO INFINITAMENTE ü•∞</h1>
    <div class="quote">‚ÄúEncontrarnos ha sido lo mejor que nos ha pasado‚Äù</div>

    <div class="typebox">
      <span id="typed"></span><span class="cursor" aria-hidden="true"></span>
    </div>

    <div class="whisper">
      <span class="dot" aria-hidden="true"></span>
      <span id="whisperText"></span>
    </div>

    <div class="footer">‚ú® Eres la estrella m√°s hermosa del universo ‚ú®</div>
  </div>
</div>

<div class="note" id="note"></div>

<script>
(() => {
  const MENSAJE = 'Gracias por estos d√≠as y por los que est√°n por venir, por cada beso y por los que estamos por inventar. Por cada una de tus caricias y por las que estamos por descubrir, gracias por esta vida y por cada una en las que vamos a coincidir.';

  //const NOTES = [
 //   "Te adoro",
 //   "Me encantas",
 //   "Te quiero con todo mi ser",
 //   "Me importa todo de ti",
 //   "Contigo todo es mejor",
 //   "A tu lado la vida es hermosa"
 // ];

  const PHRASES = [
    "1. Me encanta c√≥mo piensas y c√≥mo ves el mundo.",
    "2. Admiro mucho tu fuerza y determinaci√≥n.",
    "3. Tu inteligencia me atrae m√°s que cualquier otra cosa.",
    "4. Contigo, hasta el silencio suena perfecto.",
    "5. Cada d√≠a me haces sentir cosas nuevas.",
    "6. Eres la historia m√°s bonita que el destino escribi√≥ en mi vida.",
    "7. No quiero caminar ni atr√°s ni adelante de ti, sino siempre a tu lado.",
    "8. Tienes todo mi apoyo.",
    "9. Conf√≠o plenamente en ti.",
    "10. Gracias por existir en mi vida.",
    "11. Eres mi +1 en cada vida que coincidamos.",
    "12. Tu sonrisa ilumina mi universo.",
    "13. Conocerte y estar contigo es siempre un 47/46."
  ];

  const typedEl = document.getElementById("typed");
  const whisperEl = document.getElementById("whisperText");
  const noteEl = document.getElementById("note");
  const reduceMotion = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;

  // TYPEWRITER
  function typewriter(text){
    if(reduceMotion){ typedEl.textContent = text; return; }
    let i = 0;
    (function tick(){
      typedEl.textContent = text.slice(0, i);
      i++;
      if(i <= text.length){
        const ch = text[i-1] || "";
        const delay = ch === "\n" ? 240 : ch === "," ? 120 : ch === "." ? 165 : 36;
        setTimeout(tick, delay);
      }
    })();
  }
  typewriter(MENSAJE);

  // Frases (sin transiciones)
  let idx = Math.floor(Math.random()*PHRASES.length);
  whisperEl.textContent = PHRASES[idx];
  setInterval(() => {
    idx = (idx + 1) % PHRASES.length;
    whisperEl.textContent = PHRASES[idx];
  }, 5200);

  // Notitas (sin transiciones)
  function showNote(text){
    if(reduceMotion) return;
    noteEl.textContent = text;
    const x = (Math.random()*0.60 + 0.20) * innerWidth;
    const y = (Math.random()*0.45 + 0.18) * innerHeight;
    noteEl.style.left = x + "px";
    noteEl.style.top  = y + "px";
    noteEl.classList.add("show");
    clearTimeout(showNote._t1);
    showNote._t1 = setTimeout(() => {
      noteEl.classList.remove("show");
      noteEl.textContent = "";
    }, 1600);
  }
  setInterval(() => showNote(NOTES[(Math.random()*NOTES.length)|0]), 5600);

  // CANVAS (NO oscurece el fondo: nunca pintamos negro)
  const canvas = document.getElementById("fx");
  const ctx = canvas.getContext("2d", { alpha:true });
  let W=0, H=0, DPR=1;

  function resize(){
    DPR = Math.max(1, Math.min(2, devicePixelRatio || 1));
    W = innerWidth; H = innerHeight;
    canvas.width  = Math.floor(W * DPR);
    canvas.height = Math.floor(H * DPR);
    canvas.style.width  = W + "px";
    canvas.style.height = H + "px";
    ctx.setTransform(DPR,0,0,DPR,0,0);
  }
  addEventListener("resize", resize, {passive:true});
  resize();

  const rand = (a,b)=> a + Math.random()*(b-a);
  const choice = (arr)=> arr[(Math.random()*arr.length)|0];
  const particles = [];

  function heartPoint(t){
    const x = 16 * Math.pow(Math.sin(t), 3);
    const y = -(13*Math.cos(t) - 5*Math.cos(2*t) - 2*Math.cos(3*t) - Math.cos(4*t));
    return {x, y};
  }

  function spawnHeart(cx, cy, opts={}){
    const count = opts.count ?? (reduceMotion ? 60 : 110);
    const scale = opts.scale ?? rand(2.4, 3.4);
    const hue   = opts.hue   ?? choice([330, 345, 0, 315]);

    for(let i=0;i<count;i++){
      const t = (i/count) * Math.PI*2;
      const p = heartPoint(t);

      const vx = (p.x * scale) * 0.010 + rand(-0.10, 0.10);
      const vy = (p.y * scale) * 0.010 + rand(-0.10, 0.10);

      particles.push({
        x: cx + rand(-2,2),
        y: cy + rand(-2,2),
        vx, vy,
        g: rand(-0.0022, -0.0008),
        drag: rand(0.992, 0.997),
        life: 0,
        max: rand(240, 340),
        size: rand(1.1, 2.0),
        hue
      });
    }
  }

  function spawnDouble(){
    const centerX = rand(W*0.30, W*0.70);
    const centerY = rand(H*0.18, H*0.46);
    const gap = rand(90, 150);
    const hue = choice([330, 345, 0, 315]);
    const scale = rand(2.6, 3.6);

    spawnHeart(centerX - gap/2, centerY, { hue, scale });
    spawnHeart(centerX + gap/2, centerY, { hue, scale });
  }

  function draw(){
    // CLAVE: limpiamos con transparencia (no negro)
    ctx.clearRect(0,0,W,H);
    ctx.globalCompositeOperation = "source-over";

    for(let i=particles.length-1;i>=0;i--){
      const p = particles[i];
      p.life++;
      const t = p.life / p.max;
      const a = Math.max(0, 1 - t);

      p.vx *= p.drag;
      p.vy *= p.drag;
      p.vy += p.g;

      p.x += p.vx;
      p.y += p.vy;

      ctx.globalAlpha = a * 0.95;
      ctx.fillStyle = `hsla(${p.hue}, 90%, 70%, 1)`;
      ctx.beginPath();
      ctx.arc(p.x, p.y, p.size, 0, Math.PI*2);
      ctx.fill();

      if(p.life >= p.max || p.y < -120 || p.x < -120 || p.x > W + 120){
        particles.splice(i,1);
      }
    }

    ctx.globalAlpha = 1;
    requestAnimationFrame(draw);
  }

  setTimeout(spawnDouble, 600);
  setTimeout(spawnDouble, 1900);
  setInterval(spawnDouble, reduceMotion ? 5200 : 4400);
  draw();
})();
</script>
</body>
</html>
